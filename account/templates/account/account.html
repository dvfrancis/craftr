<!DOCTYPE html>
<html>
<head>
    <title>User Profile</title>
</head>
<body>
    <h1>Welcome, {{ user.username }}!</h1>
    <p><strong>First Name:</strong> {{ user.first_name }}</p>
    <p><strong>Last Name:</strong> {{ user.last_name }}</p>
    <p><strong>Email:</strong> {{ user.email }}</p>
    {% if user.profile %}
        {% if user.profile.photograph %}
            <p><img src="{{ user.profile.photograph.url }}" alt="Profile Photograph"></p>
        {% endif %}
        <p><strong>Location:</strong> {{ user.profile.location }}</p>
        <p><strong>Experience:</strong> {{ user.profile.experience }}</p>
    {% else %}
        <p>No additional profile information is available.</p>
    {% endif %}
    <h2>Your Enrolments</h2>
    {% if enrolments %}
        <ul>
            {% for enrolment in enrolments %}
                <li>
                    <strong>{{ enrolment.enrolled_class.class_title }}</strong>
                    ({{ enrolment.enrolled_class.event_day.class_date }})
                    <form method="POST" action="{% url 'remove_enrolment' enrolment.enrolled_class.id %}">
                        {% csrf_token %}
                        <button type="submit">Withdraw</button>
                    </form>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>You are not enrolled in any classes yet.</p>
    {% endif %}
    <form method="POST" action="{% url 'logout' %}">
        {% csrf_token %}
        <button type="submit">Logout</button>
    </form>
    <a href="{% url 'update_profile' %}">
    <button type="button">Edit Profile</button>
    </a>
    <form method="POST" action="{% url 'delete_account' %}">
    {% csrf_token %}
    <button type="submit" style="background-color: red; color: white;" onclick="return confirm('Are you sure you want to delete your account? This action cannot be undone.')">Delete Account</button>
</form>

</body>
</html>
